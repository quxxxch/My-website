<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>ICONLABS - LOG IN</title>
    <link rel="stylesheet" href="style.css">
    <script src="all.js"></script>
</head>

<body>
    <section>
        <nav class="px-5 navbar navbar-expand-md bg-dark navbar-dark justify-content-center fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand" href="home.html"> <img src="./images/sun.png" alt="Avatar Logo"
                        style="width:40px;">
                    ICONLABS</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#collapsibleNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navItem">
                    <div class="search">
                        <input type="text" placeholder="Search..." class="searchInput">
                        <img src="./images/search.png" width="20" height="20" alt="" class="searchIcon">
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="collapsibleNavbar">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link active" href="home.html">HOME</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="aboutus.html">ABOUT US</a>
                        </li>
                        <!-- <li class="nav-item">
                            <a class="nav-link" href="ourproduct.html">SHOP</a>
                        </li> -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="ourproduct.html" role="button"
                                data-bs-toggle="dropdown">SHOP</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="ourproduct.html#keyboards">Keyboards</a>
                                </li>
                                <li><a class="dropdown-item" href="ourproduct.html#keycaps">Keycaps</a>
                                </li>
                                <li><a class="dropdown-item" href="ourproduct.html#deskmats">Desk Matt</a></li>
                                <li><a class="dropdown-item" href="ourproduct.html">Shop All</a></li>

                            </ul>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="news.html">NEWS/PROMOTION</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contactus.html">CONTACT US</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="login.html">LOG IN</a>
                        </li>
                        <!-- <li class="nav-item">
                            <a class="nav-link" href="youraccount.html">YOUR ACCOUNT</a>
                        </li> -->

                    </ul>
                </div>
            </div>
        </nav>
    </section>

    <section class="my-5 px-5 py-5" id="user-info">
    </section>

    <section class="my-5 px-5 py-5" id="login">
        <h1>LOG IN </h1>
        <form action="/login" method="post" id="loginForm">
            <!-- Username -->
            <div class="row mb-3">
                <label for="username" class="col-sm-2 col-form-label">Username:</label>
                <div class="col-sm-5">
                    <input type="text" class="form-control" name="username" id="username"
                        placeholder="Enter your username" required>
                </div>
                <div class="col-sm-5">
                    <span id="nameMsg"></span>
                </div>
            </div>

            <!-- Password -->
            <div class="row mb-3">
                <label for="password" class="col-sm-2 col-form-label">Password:</label>
                <div class="col-sm-5">
                    <input type="password" class="form-control" name="password" id="password"
                        placeholder="Enter your password" required>
                </div>
                <div class="col-sm-5">
                    <span id="emailMsg"></span>
                </div>
            </div>
            <button type="submit" class="btn btn-dark offset-sm-2">Login</button>



        </form>

    </section>

    <br>

    <!-- FOOTER -->
    <footer>
        <div class="footerLeft">
            <div class="footerMenu">
                <h1 class="fMenuTitle">Useful Links</h1>
                <ul class="fList">
                    <li><a href="aboutus.html" class="fListItem">About Us</a></li>
                    <li><a href="news.html" class="fListItem">News/Promotion</a></li>
                    <li><a href="contactus.html" class="fListItem">Contact Us</a></li>
                </ul>
            </div>
            <div class="footerMenu">
                <h1 class="fMenuTitle">Products</h1>
                <ul class="fList">
                    <li><a href="ourproduct.html#keyboards" class="fListItem">Keyboards</a></li>
                    <li><a href="ourproduct.html#keycaps" class="fListItem">Keycaps</a></li>
                    <li><a href="ourproduct.html#deskmats" class="fListItem">Desk Mats</a></li>
                </ul>
            </div>
        </div>
        <div class="footerRight">
            <div class="footerRightMenu">
                <h1 class="fMenuTitle">Follow Us</h1>
                <p class="fInput">Stay in touch on our socials, or reach out to quachgiangx@gmail.com if you need
                    assistance.</p>

                <div class="fIcons">
                    <img src="./images/facebook.png" alt="" class="fIcon">
                    <img src="./images/twitter.png" alt="" class="fIcon">
                    <img src="./images/instagram.png" alt="" class="fIcon">
                    <img src="./images/whatsapp.png" alt="" class="fIcon">
                </div>
            </div>
            <div class="footerRightMenu">
                <span class="copyright">Copyright &copy; 2024 Giang Quach's Shop. <br>Updated on 10 Jan 2024.</span>
            </div>
        </div>
    </footer>

</body>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const loginForm = document.getElementById('loginForm');
        const loginSection = document.getElementById('login');
        const userInfoSection = document.getElementById('user-info');

        loginForm.addEventListener('submit', function (event) {
            event.preventDefault(); // Prevent the default form submission
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Make a POST request to the server
            fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: `username=${username}&password=${password}`,
            })
                .then(response => response.text())
                .then(data => {

                    // Check if the response contains user info

                    if (data.includes('Welcome')) {
                        // Display the user info section
                        userInfoSection.innerHTML = data;
                        // Hide the login section
                        loginSection.style.display = 'none';
                    } else {
                        // Display a login error message
                        userInfoSection.innerHTML = data;
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        });
    });

</script>


</html>